function PAGECONSOLE(a){return a=a||{},this instanceof PAGECONSOLE?(this._config=this._extendOptions(a),this._pconWindow=null,this._pconStdIn=null,this._pconStdOut=null,this._createConsoleWindow(),this._addHotKeyToDisplayConsoleWindow(),void this._pconStdIn.addEventListener("keyup",this._execute.bind(this),!1)):new PAGECONSOLE(a)}PAGECONSOLE.prototype._clearStdIn=function(){this._pconStdIn.value=""},PAGECONSOLE.prototype._putStdOut=function(a){var b=document.createElement("div"),c=document.createTextNode(""==a?"Â ":a),d=this._pconStdOut.childNodes.length;b.appendChild(c),this._pconStdOut.appendChild(b),d>this._config.maxOutputLines&&this._pconStdOut.removeChild(this._pconStdOut.childNodes[0])},PAGECONSOLE.prototype._execute=function(a){13===a.keyCode&&(this._putStdOut(this._pconStdIn.value),this._clearStdIn())},PAGECONSOLE.prototype._extendOptions=function(a){var b=JSON.parse(JSON.stringify(this._defaultConfig));for(var c in b)c in a||(a[c]=b[c]);return a},PAGECONSOLE.prototype._createConsoleWindow=function(){var a=document.createDocumentFragment(),b=document.createElement("div"),c=(document.createElement("div"),document.createElement("div")),d=document.createElement("input"),e=document.createElement("div");b.style.display="none",this._config.disableStyles||(b.style.position="fixed",b.style.zIndex="1000",b.style.bottom="5px",b.style.left="5px",b.style.width="200px",b.style.padding="5px",b.boxSizing="border-box",b.style.fontFamily="Courier New,Courier,Lucida Sans Typewriter,Lucida Typewriter,monospace",b.style.fontSize="1.2rem",b.style.background="rgba(0,0,0,.8)",c.style.minHeight="20px",c.style.marginBottom="5px",c.style.paddingBottom="5px",c.style.borderBottom="1px solid rgba(255,255,255,.25)",c.style.color="rgb(255,255,255)",c.style.overflow="hidden",d.style.color="rgb(255,255,255)",d.style.border="none",d.style.background="transparent",d.style.display="block",d.style.width="100%"),this._config.domClasses&&(b.classList.add(this._config.domClasses[0]),d.classList.add(this._config.domClasses[1]),c.classList.add(this._config.domClasses[2])),this._config.stdOut&&(this._config.greeting&&(e.appendChild(document.createTextNode(this._config.greeting)),c.appendChild(e)),b.appendChild(c)),b.appendChild(d),a.appendChild(b),document.body.appendChild(a),this._pconWindow=b,this._pconStdIn=d,this._config.stdOut&&(this._pconStdOut=c)},PAGECONSOLE.prototype._showHideConsoleWindow=function(a){if(this._config.hotKey){var b=this._config.hotKey.toLowerCase().split(/ *\+ */),c="esc"===b[b.length-1]?"escape":b[b.length-1],d=-1!=b.indexOf("ctrl")?!0:!1,e=-1!=b.indexOf("shift")?!0:!1,f=-1!=b.indexOf("alt")?!0:!1;a.key.toLowerCase()===c&&a.altKey===f&&a.ctrlKey===d&&a.shiftKey===e&&(this._pconWindow.style.display="block",this._pconStdIn.focus())}else this._pconWindow.style.display="block"},PAGECONSOLE.prototype._addHotKeyToDisplayConsoleWindow=function(){this._config.hotKey?document.addEventListener("keyup",this._showHideConsoleWindow.bind(this),!1):this._showHideConsoleWindow()},PAGECONSOLE.prototype._defaultConfig={hotKey:"Esc",disableStyles:!1,domClasses:["pageconsole-window","pageconsole-input","pageconsole-output"],stdOut:!0,hideOnExecCommand:!1,greeting:document.title||"Welcome!",maxOutputLines:5};